<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"
        defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"
        defer></script>
</head>

<body>
    <div class="mb-3">
        <label for="tekstGPT" class="form-label">Input for GPT-3:</label>
        <textarea class="form-control" id="tekstGPT" rows="3"></textarea>
    </div>
    <button id="submitBtn" class="btn btn-primary">Submit</button>
    <div id="response" class="mt-3"></div>
</body>
</html>

<script>
    var apiKey = "";

    function displayDate() {
        var today = new Date();
        var date = today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();
        var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
        var dateTime = date + ' ' + time;
        document.getElementById('dateTime').innerHTML = dateTime;
    }

    (async () => {
        // const { chatgpt } = await import(chrome.runtime.getURL('lib/chatgpt.js'));
        document.getElementById('submitBtn').addEventListener('click', async () => {
            let inputText = document.getElementById('tekstGPT').value;

            let response = await openai.chat.completions.create({
                model: "gpt-3.5-turbo",
                messages: [{ "role": "system", "content": "You are a helpful assistant." },
                { "role": "user", "content": "Who won the world series in 2020?" },
                { "role": "assistant", "content": "The Los Angeles Dodgers won the World Series in 2020." },
                { "role": "user", "content": "Where was it played?" }],
            });

            document.getElementById('response').innerText = response;
        })();

    })();

</script>


<!DOCTYPE html>
<html>
<body>

<h2>ChatGPT API</h2>

<button onclick="sendRequest()">Send Request</button>

<p id="demo"></p>

<script>
import OpenAI from "openai";

function sendRequest() {
  const apiKey = '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';

}
</script>

</body>
</html>
