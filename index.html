<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"
    defer></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
    integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"
    defer></script>
</head>

<body>
  <div class="mb-3">
    <label for="tekstGPT" class="form-label">Input for GPT-3:</label>
    <textarea class="form-control" id="tekstGPT" rows="3"></textarea>
  </div>
  <button id="submitBtn" class="btn btn-primary">Submit</button>
  <div id="response" class="mt-3"></div>
</body>

</html>

<script>
  import { ChatGPTAPI } from 'chatgpt'

  async function example() {
    const api = new ChatGPTAPI({
      apiKey: process.env.OPENAI_API_KEY
    })
    const res = await api.sendMessage('Hello World!')
    console.log(res.text)
  }

  // // import OpenAI from "openai";
  // import { ChatGPTAPI } from 'chatgpt';

  // const apiKey = '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';

  // const api = new ChatGPTAPI({
  //   apiKey: process.env.apiKey,
  //   completionParams: {
  //     model: 'gpt-4',
  //     temperature: 0.5,
  //     top_p: 0.8
  //   }
  // })


  // function displayDate() {
  //   var today = new Date();
  //   var date = today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();
  //   var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
  //   var dateTime = date + ' ' + time;
  //   document.getElementById('dateTime').innerHTML = dateTime;
  // }

  // (async () => {
  //   // const { chatgpt } = await import(chrome.runtime.getURL('lib/chatgpt.js'));
  //   document.getElementById('submitBtn').addEventListener('click', async () => {
  //     let inputText = document.getElementById('tekstGPT').value;

  //     // send another follow-up
  //     res = await api.sendMessage(inputText, {
  //       parentMessageId: res.id
  //     })
  //     // console.log(res.text)

  //     document.getElementById('response').innerText = res.text;
  //   })();

  // })();

</script>